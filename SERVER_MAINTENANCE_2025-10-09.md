# –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ - 09.10.2025

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### ‚úÖ 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/etc/sudoers.d/valstan`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞: `valstan ALL=(ALL) NOPASSWD:ALL`
- –ü—Ä–æ–≤–µ—Ä–∫–∞: —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è sudoers: –≤–∞–ª–∏–¥–Ω–∞

### ‚úÖ 2. –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç –º—É—Å–æ—Ä–∞

#### –û—á–∏—â–µ–Ω–æ:
- **APT –∫–µ—à:** –æ—á–∏—â–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- **–°—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã:** —É–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Journal –ª–æ–≥–∏:** –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
- **–°–∂–∞—Ç—ã–µ –ª–æ–≥–∏:** —É–¥–∞–ª–µ–Ω—ã –≤—Å–µ .gz –∏ .1 —Ñ–∞–π–ª—ã
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:** —É–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π –∏–∑ /tmp –∏ /var/tmp

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- APT –∫–µ—à —É–≤–µ–ª–∏—á–∏–ª—Å—è —Å 8K –¥–æ 50M (—Å–∫–∞—á–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- –õ–æ–≥–∏ –æ—Å—Ç–∞–ª–∏—Å—å ~17M
- /tmp –æ—Å—Ç–∞–ª—Å—è —á–∏—Å—Ç—ã–º (64K)

### ‚úÖ 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–∞–∫–µ—Ç–æ–≤: 13
1. **systemd** (255.4-1ubuntu8.10 ‚Üí 255.4-1ubuntu8.11)
   - systemd-sysv
   - systemd-resolved
   - systemd-dev
   - libsystemd-shared
   - libsystemd0
   - libpam-systemd
   
2. **udev** (255.4-1ubuntu8.10 ‚Üí 255.4-1ubuntu8.11)
   - libudev1

3. **Docker** (28.5.0 ‚Üí 28.5.1)
   - docker-ce
   - docker-ce-cli
   - docker-ce-rootless-extras

4. **bsdutils** (–Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç: 1:2.39.3-9ubuntu6.3)

### üìä –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

#### –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:
```
–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞: /dev/ploop19585p1
–†–∞–∑–º–µ—Ä:          9.8G
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:    2.9G (31%)
–î–æ—Å—Ç—É–ø–Ω–æ:        6.4G
```

#### –í–µ—Ä—Å–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    | –í–µ—Ä—Å–∏—è                     | –°—Ç–∞—Ç—É—Å |
|--------------|----------------------------|--------|
| Python       | 3.12.3                     | ‚úÖ     |
| Node.js      | v22.20.0                   | ‚úÖ     |
| PostgreSQL   | 18.0                       | ‚úÖ     |
| Nginx        | 1.28.0                     | ‚úÖ     |
| Redis        | 7.4.1                      | ‚úÖ     |

#### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:
```
PostgreSQL:  active (exited) - —Ä–∞–±–æ—Ç–∞–µ—Ç
Nginx:       active (running) - —Ä–∞–±–æ—Ç–∞–µ—Ç
Redis:       active (running) - —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Docker —É–¥–∞–ª—ë–Ω –ø–æ–∑–∂–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è)
```

### üöÄ MikroKredit —Å—Ç–∞—Ç—É—Å

#### –ü–æ—Å–ª–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:
- ‚úÖ **Gunicorn:** 4 –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –¥–æ—Å—Ç—É–ø–Ω–∞, 26 –∑–∞–π–º–æ–≤
- ‚úÖ **Health check:** {"status":"ok"}
- ‚úÖ **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:** –æ—Ç–≤–µ—á–∞–µ—Ç HTTP 200

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞!**

### üìù –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ sudo
sudo bash -c 'echo "valstan ALL=(ALL) NOPASSWD:ALL" > /etc/sudoers.d/valstan'
sudo chmod 440 /etc/sudoers.d/valstan
sudo visudo -c

# 2. –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
sudo apt-get clean
sudo apt-get autoclean
sudo apt-get autoremove -y
sudo journalctl --vacuum-time=7d
sudo find /var/log -type f -name "*.gz" -delete
sudo find /var/log -type f -name "*.1" -delete
sudo find /tmp -type f -atime +7 -delete
sudo find /var/tmp -type f -atime +7 -delete

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt-get update
sudo apt-get upgrade -y
sudo apt-get dist-upgrade -y
sudo apt-get autoremove -y
sudo apt-get autoclean
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ Sudo –Ω–∞—Å—Ç—Ä–æ–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ —á–µ—Ä–µ–∑ sudoers.d
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—á–∏—â–µ–Ω–∞ –æ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞
- ‚úÖ –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω—ã (7 –¥–Ω–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è)

### üìà –ú–µ—Ç—Ä–∏–∫–∏

**–î–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:**
- –î–∏—Å–∫: 2.8G / 9.8G (29%)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–π: 12 –ø–∞–∫–µ—Ç–æ–≤

**–ü–æ—Å–ª–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:**
- –î–∏—Å–∫: 2.9G / 9.8G (31%)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–π: 0 –ø–∞–∫–µ—Ç–æ–≤
- –°–∏—Å—Ç–µ–º–∞: –∞–∫—Ç—É–∞–ª—å–Ω–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–µ–±–æ–ª—å—à–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–æ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:**
   ```bash
   # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
   sudo apt-get update && sudo apt-get upgrade -y
   sudo apt-get autoremove -y
   sudo journalctl --vacuum-time=7d
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Å—Ç–∞:**
   ```bash
   df -h /
   du -sh /var/log /var/cache/apt
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```bash
   systemctl status postgresql nginx docker redis-server
   ```

### üìö –°–æ–∑–¥–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

- **FIXES_2025-10-09.md** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è MikroKredit
- **STATUS_REPORT.md** - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- **SERVER_MAINTENANCE_2025-10-09.md** - —ç—Ç–æ—Ç –æ—Ç—á—ë—Ç

---

**–î–∞—Ç–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è:** 09.10.2025 08:37 MSK  
**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** valstan  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ  
**Downtime:** 0 —Å–µ–∫—É–Ω–¥ (–≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ –≤–æ –≤—Ä–µ–º—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è)

